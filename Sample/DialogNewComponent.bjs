{"id":"file-gtk-12","name":"DialogNewComponent","parent":"","title":false,"path":"/home/alan/gitlive/app.Builder.js/Sample/DialogNewComponent.bjs","items":[{"|xns":"Gtk","xtype":"Dialog","|deletable":false,"|modal":true,"title":"New Component","id":"DialogNewComponent","default_width":500,"default_height":200,"|show":"function (c) \n        {\n            if (!this.el) {\n                this.init();\n            }\n            c = c || { name : '' , xtype : '' };\n            // check whic project we are adding to..\n            XObject.extend(this, c);\n            // causes problems.. get_screen?? not transfer ownership?\n           /// var Window                = imports.Builder.Window.Window;\n            //this.el.set_screen(Window.el.get_screen());\n            \n            //var paths = [];\n            for (var i in this.project.paths) {\n                paths.push({\n                    id : i,\n                    desc : i\n                });\n            }\n             console.log('load paths');\n             \n            // load the paths.\n            this.get('directory_model').loadData(paths);\n                \n            \n            console.log('show all');\n            this.el.show_all();\n            this.success = c.success;\n            /*\n            var tm = this.get('template_model');\n            if (tm.templates) {\n                return;\n            }\n            tm.templates = [];\n            var dir = __script_path__ + '/templates/';\n            \n            var f = Gio.file_new_for_path(dir);\n            f.enumerate_children_async (\"*\",  Gio.FileQueryInfoFlags.NONE, \n                    GLib.PRIORITY_DEFAULT, null, function(o,ar) {\n                // enum completed..\n                var fe = f.enumerate_children_finish(ar);\n                var ch = '';\n                while (ch = fe.next_file(null)) {\n                    var add = dir + '/' + ch.get_name();\n                    if (!add.match(/\\.js$/)) {\n                        continue;\n                    }\n                    tm.templates.push(add);\n                    \n                }\n                tm.loadData();\n                \n            }, null);\n            */\n            \n        }","items":[{"|xns":"Gtk","xtype":"VBox","pack":"add","items":[{"|xns":"Gtk","xtype":"HBox","pack":"pack_start,false,true,0","items":[{"|xns":"Gtk","xtype":"Label","pack":"pack_start,false,true,0","label":"Component Name","xpad":10},{"|xns":"Gtk","xtype":"Entry","pack":"pack_end,true,true,0"}]}]},{"|xns":"Gtk","xtype":"Button","pack":"add_action_widget,0","label":"Cancel"},{"|xns":"Gtk","xtype":"Button","pack":"add_action_widget,1","label":"OK"}]}]}